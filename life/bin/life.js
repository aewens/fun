// Generated by CoffeeScript 1.7.1
(function() {
  var Life, alive, cells, life, paint, paper, render;

  Life = (function() {
    function Life() {
      this.paper = document.querySelector("#paper");
      this.paint = this.paper.getContext("2d");
      this.ratio = [64, 48];
      this.unit = this.resize(this.ratio[0], this.ratio[1]);
    }

    Life.prototype.resize = function(r0, r1) {
      var h, m0, m1, unit, w, x, y;
      w = parseInt(window.getComputedStyle(document.body).width);
      h = parseInt(window.getComputedStyle(document.body).height);
      x = min(w, h);
      y = min(r0, r1) + 1;
      unit = floor(x / y);
      this.paper.width = unit * r0;
      this.paper.height = unit * r1;
      m0 = (h - this.paper.height) / 2;
      m1 = (w - this.paper.width) / 2;
      this.paper.style.margin = "" + m0 + "px " + m1 + "px";
      return unit;
    };

    Life.prototype.line = function(x0, y0, x1, y1) {
      this.paint.beginPath();
      this.paint.moveTo(x0, y0);
      this.paint.lineTo(x1, y1);
      this.paint.closePath();
      return this.paint.stroke();
    };

    return Life;

  })();

  life = new Life;

  cells = new Cells(life.paper, life.unit, life.ratio[0], life.ratio[1]);

  alive = cells.alive;

  paper = life.paper;

  paint = life.paint;

  render = function() {
    paint.clearRect(0, 0, paper.width, paper.height);
    return cells.next_gen();
  };

  setInterval(render, 200);

}).call(this);
